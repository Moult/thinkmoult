<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Dion Moult" />
    <meta name="description" content="Amarok uses a MySQL database to store its music information. This article describes how to access the database directly for analysis and debugging.">
    <title>Browse Amarok&#x27;s embedded MySQL database</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <header>
        <h1>Browse Amarok&#x27;s embedded MySQL database</h1>
        <nav><a href="https://thinkmoult.com/articles.html"><img src="gifs/back.gif" alt="Back" class="gif" /> Back to articles</a></nav>
        <p class="author">Dion Moult</p>
        <p class="date">2010-09-01</p>
    </header>
    <article>

<p>Amarok can probably be called one of Linux's flagship programs. However
since the upgrade from Amarok 1 to Amarok 2 there have been quite a
number of controversial changes. One of these changes is that Amarok
switched from an SQLite database to a MySQL database to store song
information, however whether or not this was the right move is not the
topic of this post.</p>
<p>With this new database, users were given two choices - an external
database or an embedded database. The embedded database was created to
simplify the setup for users who weren't comfortable with the idea of
manually setting up a MySQL database. But what happens if you have an
embedded database and afterwards you <em>do</em> want to mess around with it
and look inside? For whatever purpose be it bugfixing, locating a
specific bit of information, or bulk song management (nothing beats a
good query!), sometimes you'd want to do this.</p>
<p>Amarok stores its embedded database information in
<code>$KDEHOME/share/apps/amarok/mysqle/amarok/</code> - where <code>$KDEHOME</code> is
usually <code>~/.kde</code>. So as long as you have MySQL setup elsewhere, all you
have to do is create a blank database, and dump all of these files where
MySQL stores its information. This location is MySQL's <em>datadir</em>, which
is set inside the <code>my.cnf</code> configuration file, normally placed in
<code>/etc/mysql/my.cnf</code>. In a regular install, your data dir will be in
<code>/var/lib/mysql/</code> - and will contain one directory per database. So just
copy over Amarok's database files into the database's directory. The
final step is to ensure the files are owned by the mysql user, done by
<code>chown mysql:mysql</code>.</p>
<p>Now you can browse the database normally through your preferred method
(command line, PHPMyAdmin, or other MySQL client)</p>
<p>That's it! I hope this is useful to somebody.</p>
    </article>
    <section>
	<h2>Comments</h2>
	<p>
	    If you have any comments, please send them to <a href="mailto:dion@thinkmoult.com">dion@thinkmoult.com</a>.
	</p>
    </section>
    <footer>
    	<h3>License</h3>
    	<p>
	    This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>, unless explicitly mentioned in the article.
    	</p>
    </footer>
</body>
</html>
